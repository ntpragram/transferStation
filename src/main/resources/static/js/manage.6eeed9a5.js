(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["manage"],{1600:function(t,e,a){},"53dc":function(t,e,a){"use strict";var i=a("7f62"),r=a.n(i);r.a},"56c4":function(t,e,a){},6241:function(t,e,a){"use strict";var i=a("1600"),r=a.n(i);r.a},"7f62":function(t,e,a){},b539:function(t,e,a){"use strict";var i=a("56c4"),r=a.n(i);r.a},db4f:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"bodt"},[a("div",{staticClass:"leftContent"},[a("ul",{staticClass:"BerthUL"},t._l(t.BerthData,(function(e,i){return a("li",{key:i,staticClass:"BerthLi"},[a("div",{staticClass:"berthTop"},[a("p",[t._v(t._s(e.id)+"号泊位")]),(e.garbageType,a("div",{staticStyle:{width:"60%",textAlign:"center",lineHeight:"30px"}}))]),a("div",{staticClass:"berthMid"},[a("div",{staticClass:"column"},[a("div",{staticClass:"inner1",style:{height:100-e.residualpercentage/100*100+"px"}},[a("h5",[t._v(t._s(e.residualpercentage)+"%")])])]),a("div",{staticClass:"Midbutton"},[a("button",{attrs:{id:"button1"},on:{click:function(a){return t.StopUse(e.id,a)}}},[t._v("暂停使用")]),a("button",{attrs:{id:"button2"},on:{click:function(a){return t.changeBerth(e.id,a)}}},[t._v("更换容器")]),a("button",{on:{click:function(a){return t.UseBerth(e.id,a)}}},[t._v("恢复使用")])])]),a("div",{staticClass:"berthBottom"},[a("p",[t._v("总重："+t._s(e.berthtotalcapacity)+" /kg")]),a("p",[t._v("已用："+t._s(e.berthusecapacity)+" /kg")]),a("p",[t._v("剩余："+t._s(e.remainingweight)+" /kg")]),1==e.status?a("p",[t._v(" 状态： "),a("span",{staticStyle:{color:"red"}},[t._v("暂停使用")])]):2==e.status?a("p",[t._v(" 状态： "),a("span",{staticStyle:{color:"orange"}},[t._v("更换容器")])]):a("p",[t._v("状态：正常使用")])])])})),0)]),a("ul",{staticClass:"rightContent"},[a("li",{staticClass:"right-midbody"},[t._m(0),a("div",{staticClass:"box2"},[a("div",{staticClass:"rightMid"},[a("el-form",{staticClass:"demo-form-inline rightmiddx",attrs:{inline:!0,model:t.formBerth}},[a("el-form-item",{staticClass:"car1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.formBerth.weight,expression:"formBerth.weight"}],staticClass:"numCar",attrs:{type:"text"},domProps:{value:t.formBerth.weight},on:{input:function(e){e.target.composing||t.$set(t.formBerth,"weight",e.target.value)}}}),t._v(" kg ")]),a("el-form-item",{staticClass:"berthCah",staticStyle:{width:"60px"},attrs:{prop:"berthNum"}},[a("el-select",{attrs:{placeholder:"请选择泊位"},model:{value:t.formBerth.id,callback:function(e){t.$set(t.formBerth,"id",e)},expression:"formBerth.id"}},t._l(t.BerthData,(function(t){return a("el-option",{key:t.id,attrs:{label:t.id+"号泊位",value:t.id}})})),1)],1),a("el-form-item",[a("el-button",{staticClass:"send1",attrs:{type:"primary"},on:{click:t.numSubmit}},[t._v("发送")])],1)],1)],1)])]),a("li",{staticClass:"right-midbody"},[t._m(1),a("div",{staticClass:"box2"},[a("right-midbody",{attrs:{BerthList:t.BerthData,voiceList:t.vocieData}})],1)]),a("li",{staticClass:"right-table"},[t._m(2),a("div",{staticClass:"box4"},[a("right-table",{attrs:{tableNum:t.tableData}})],1)])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box1"},[a("p",[t._v("泊位载重临时修改")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box1"},[a("p",[t._v("手动泊位语音广播")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box3"},[a("p",[t._v("车辆进出站信息")])])}],s=a("bc3a"),n=a.n(s),l=a("4328"),o=a.n(l),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rightMidbody"},[a("el-form",{staticClass:"demo-form-inline minbody",attrs:{inline:!0,model:t.BerthHandle}},[a("el-form-item",{staticClass:"topL1"},[a("el-select",{attrs:{placeholder:"请选择泊位"},model:{value:t.BerthHandle.bid,callback:function(e){t.$set(t.BerthHandle,"bid",e)},expression:"BerthHandle.bid"}},t._l(t.BerthList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.id+"号泊位",value:t.id}})})),1)],1),a("el-form-item",{staticStyle:{width:"50px",marginLeft:"8px"},attrs:{prop:"berthNum"}},[a("el-select",{attrs:{placeholder:"请选择操作"},model:{value:t.BerthHandle.remark,callback:function(e){t.$set(t.BerthHandle,"remark",e)},expression:"BerthHandle.remark"}},t._l(t.voiceList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.remark,value:t.remark}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("发送")])],1)],1)],1)},u=[],h={data:function(){return{BerthHandle:{bid:"",remark:""}}},props:["BerthList","voiceList"],components:{},methods:{handleSubmit:function(){var t=this;n.a.post("/berth/manualVoice",o.a.stringify(this.BerthHandle)).then((function(e){t.BerthHandle.bid="",t.BerthHandle.remark=""})).catch((function(){console.log("error")}))}}},d=h,m=(a("53dc"),a("2877")),p=Object(m["a"])(d,c,u,!1,null,null,null),b=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rightTable"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableNum,height:"450"}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"licenseplatenumber",label:"车号",width:"90"}}),a("el-table-column",{attrs:{prop:"berthnumber",label:"泊位",width:"50"}}),a("el-table-column",{attrs:{prop:"cargoweight",label:"净重(/kg)",width:"80"}}),a("el-table-column",{attrs:{prop:"totalweight",label:"毛重(/kg)",width:"80"}}),a("el-table-column",{attrs:{prop:"vehicleweight",label:"皮重(/kg)",width:"80"}})],1)],1)},g=[],v={data:function(){return{}},props:["tableNum"]},B=v,_=(a("b539"),Object(m["a"])(B,f,g,!1,null,null,null)),C=_.exports,y={name:"manage",data:function(){return{websock:null,tableData:[],BerthData:[],vocieData:[],statusID:{id:"",status:0},percent:80,color1:"#3e79cc",color2:"red",formBerth:{weight:0,id:""},leftColorDisplay:-1,timer:void 0}},props:{},components:{RightMidbody:b,RightTable:C},created:function(){this.getData()},methods:{getData:function(){var t=this;n.a.post("/berth/getBerthList").then((function(e){t.tableData=e.data.data.stopsOutBoundList,t.BerthData=e.data.data.BerthList,t.vocieData=e.data.data.VoiceContentList}))},StopUse:function(t,e){var a=this;e.target.style.background="red",e.currentTarget.nextElementSibling.style.background="#43C19B",this.statusID.id=t,this.statusID.status=1,n.a.post("/berth/stopUsingOrReplaceContainerOrRecoveryUses",o.a.stringify(this.statusID)).then((function(t){a.getData()})).catch((function(){console.log("error")}))},changeBerth:function(t,e){var a=this;e.target.style.background="red",e.currentTarget.previousElementSibling.style.background="#43C19B",this.statusID.id=t,this.statusID.status=2,n.a.post("/berth/stopUsingOrReplaceContainerOrRecoveryUses",o.a.stringify(this.statusID)).then((function(){a.getData()})).catch((function(){console.log("error")}))},UseBerth:function(t,e){var a=this;e.currentTarget.parentElement.firstElementChild.style.background="#43C19B",e.currentTarget.previousElementSibling.style.background="#43C19B",this.statusID.id=t,this.statusID.status=0,n.a.post("/berth/stopUsingOrReplaceContainerOrRecoveryUses",o.a.stringify(this.statusID)).then((function(){a.getData()})).catch((function(){console.log("error")}))},numSubmit:function(){var t=this;n.a.post("/berth/updateBerthLoad",o.a.stringify(this.formBerth)).then((function(e){t.getData(),t.formBerth.weight=0,t.formBerth.id=""})).catch((function(){console.log("error")}))},_timer:function(){var t=this;this.timer=setTimeout((function(){t.getData()}),5e3)},clearTim:function(){clearTimeout(this.timer)}},watch:{BerthData:function(){this._timer()},$route:function(t,e){"/homepage/manage"==t.path?this._timer():this.clearTim()}}},k=y,D=(a("6241"),Object(m["a"])(k,i,r,!1,null,null,null));e["default"]=D.exports}}]);